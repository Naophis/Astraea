
clear_angle: 5
clear_dist_order: 88

pivot_angle_90: 89.750
pivot_angle_180: 180.0

# 探索スラローム
th_offset_dist: 52
sla_front_ctrl_th: 135.0 # 探索時前壁補正条件しきい時間
# front_dist_offset: 94.750 # 探索時の前壁補正 大→手前になる
front_dist_offset: 97.0 # 探索時の前壁補正 大→手前になる
# front_dist_offset: 92.1250 # 探索時の前壁補正 大→短くなる

normal_sla_offset_front: 9 # 探索スラローム前補正
normal_sla_offset_back: 6 # 探索スラローム後補正

front_dist_offset0: 96.0 # pivot時の前壁補正ref
pivot_back_enable_front_th: 120 # バック判断のための壁有無しきい値
pivot_back_offset: 6.0 # pivot時の前壁補正後のバック距離のオフセット
pivot_back_dist0: 10.0 # pivot時の前壁補正後のバック距離のオフセット
pivot_back_dist1: 10.0 # pivot時の前壁補正後のバック距離のオフセット
# スラロームオフセット距離壁補正リファレンス値
sla_wall_ref_l: 45.0 #大→短くなる
sla_wall_ref_r: 45.0 #大→短くなる

sla_max_offset_dist: 0 #not use

# Orvalスラロームオフセット距離壁補正リファレンス値
sla_wall_ref_l_orval: 45.0
sla_wall_ref_r_orval: 45.0
# orval_rad_offset_l: 5
orval_rad_offset_l: 0
orval_rad_offset_r: 0
orval_offset_enable: 0

dia45_offset_enable: 0
dia135_offset_enable: 0

# front_dist_offset2: 137.0

front_diff_th: 9 # 前壁制御左右偏差条件
front_dist_offset_pivot_th: 84 #前壁制御接近条件
front_dist_offset_pivot: 90

front_dist_offset_dia_front: 139
front_dist_offset_dia_45_th: 77
# front_dist_offset_dia_right45: 74
front_dist_offset_dia_right45: 54
front_dist_offset_dia_left45: 50

seach_timer: 450 # 探索時間 450sec -> 7.5min

clear_dist_ragne_from: 22.5
clear_dist_ragne_to: 50.0

clear_dist_ragne_dist_list: [0, 20, 25, 50, 60, 90]
clear_dist_ragne_th_list: [50, 50, 44.5, 44.5, 50, 50]

clear_dist_ragne_dist_list_fast: [0, 10, 25, 50, 60, 90] #not use
clear_dist_ragne_th_list_fast: [44.5, 44.5, 50, 50, 44.5, 44.5] #not use
# clear_dist_ragne_th_list: [46, 46, 46.0, 46.0, 46, 46]
clear_dist_ragne_to2: 35 # 探索時制御範囲拡張移動距離

wall_off_hold_dist: 88

# 探索壁あり判定
ctrl_exist_wall_th_l: 47 #探索壁切れ
ctrl_exist_wall_th_r: 47 #探索壁切れ
go_straight_wide_ctrl_th: 75
search_wall_off_l_dist_offset: 54.750
search_wall_off_r_dist_offset: 52.5
# search_wall_off_l_dist_offset: 50.0
# search_wall_off_r_dist_offset: 50.0
search_wall_off_enable: 1

# 壁切れ壁あり判定
wall_off_exist_wall_th_l: 52
wall_off_exist_wall_th_r: 52
# 壁切れ In(最初からあるとき)
wall_off_hold_exist_dist_l: 48
wall_off_hold_exist_dist_r: 48
# 壁切れ Out(最初からあるとき)
wall_off_hold_noexist_th_l: 49
wall_off_hold_noexist_th_r: 49
# 壁切れ オフセット距離(最初からあるとき)
wall_off_hold_dist_str_l_exist: -0.25  #p_wall_off.left_str_exist
wall_off_hold_dist_str_r_exist: -1.25 #p_wall_off.right_str_exist

# 壁切れ In2(最初からないとき)
wall_off_hold_exist_dist_l2: 59 #p_wall_off.exist_dist_l2
wall_off_hold_exist_dist_r2: 59 #p_wall_off.exist_dist_r2
# 壁切れ Out2(最初からないとき)
wall_off_hold_noexist_th_l2: 60
wall_off_hold_noexist_th_r2: 60
# 壁切れ オフセット距離(最初からないとき)
wall_off_hold_dist_str_l: -4.5 #p_wall_off.left_str
wall_off_hold_dist_str_r: -3.50 #p_wall_off.right_str

wall_off_diff_ref_th: 6.5
wall_off_diff_ref_front_th: 30 # 壁切れ偏差チェックの前後距離差条件

# 壁切れ(detect_missing_by_deviation) 偏差(最初見えず、柱で反応)
wall_off_hold_div_th_l: 1.5 #p_wall_off.left_diff_th
wall_off_hold_div_th_r: 1.5 #p_wall_off.right_diff_th

# 壁切れ 偏差(壁が見える前に過ぎてた場合)
wall_off_hold_div_th_l2: 0.5 #p_wall_off.div_th_l2
wall_off_hold_div_th_r2: 0.5 #p_wall_off.div_th_r2

# 壁切れ 偏差
wall_off_hold_div_th_l3: 0.25 #p_wall_off.div_th_l3
wall_off_hold_div_th_r3: 0.25 #p_wall_off.div_th_r3

wall_off_noexist_diff_l: 0.5
wall_off_noexist_diff_r: 0.5

wall_off_front_move_dist_th: 2
wall_off_front_move_dia_dist_th: 2
# 壁切れ街制限距離
wall_off_wait_dist_dia: 85

#detect_pass_through_case1（通過+見切れチェック）
diff_dist_th_l: 1.5 # 壁切れ偏差チェック 偏差条件
diff_dist_th_r: 1.5 # 壁切れ偏差チェック 偏差条件

#detect_pass_through_case1/2(通過距離)
wall_off_diff_check_dist: 25 # 移動距離条件 p_wall_off.diff_check_dist

#detect_pass_through_case1(dia: 通過チェック)
diff_check_dist_dia_2: 25 # 壁切れ偏差チェック　距離条件

# detect_pass_through_case1/2(通過時の距離補正値)
wall_off_pass_through_offset_l: -5
wall_off_pass_through_offset_r: -5


# 壁切れ：前壁補正　リファレンス値(大：前に近づく)
front_dist_offset2: 142 # ref
# 壁切れ：前壁補正  しきい値(far: center)
front_dist_offset3: 135.0 # th
# 壁切れ：前壁補正　しきい値(far: both)
front_dist_offset4: 135.0 # both front sensors condition th

# 壁切れ街制限距離
wall_off_wait_dist: 65

# 壁切れ壁あり判定
wall_off_exist_dia_wall_th_l: 45
wall_off_exist_dia_wall_th_r: 45

### 最初から壁がある場合
# 壁切れ In(斜め)
wall_off_hold_exist_dist_dia_l: 39
wall_off_hold_exist_dist_dia_r: 39
# 壁切れ Out(斜め)
wall_off_hold_noexist_dia_th_l: 40
wall_off_hold_noexist_dia_th_r: 40
# 壁切れ オフセット距離
wall_off_hold_dist_dia_l: 2.0
wall_off_hold_dist_dia_r: 3.0
#斜め壁切れ時のmax接近距離
# dia_wall_off_ref_l: 35.0
# dia_wall_off_ref_r: 32.0
dia_wall_off_ref_l: 24.0 #dia135
dia_wall_off_ref_r: 24.0 #dia135
#斜め壁切れ時のmax接近距離
dia_wall_off_ref_l_wall: 33.5 #exist_wall
dia_wall_off_ref_r_wall: 32.45 #exist_wall
dia_wall_off_ref_l_piller: 41.06 #noexist_wall
dia_wall_off_ref_r_piller: 39.45 #noexist_wall

# 斜め壁切れ偏差
wall_off_hold_div_th_dia_l: 0.250
wall_off_hold_div_th_dia_r: 0.250

### 最初から壁がない場合
# 壁切れ In(斜め)
wall_off_hold_exist_dist_dia_l2: 48
wall_off_hold_exist_dist_dia_r2: 48
# 壁切れ Out(斜め)
wall_off_hold_noexist_dia_th_l2: 50
wall_off_hold_noexist_dia_th_r2: 50
# 壁切れ オフセット距離
wall_off_hold_dist_dia_l2: 1.0
wall_off_hold_dist_dia_r2: 1.0

#斜めターン壁有り補正
dia_turn_th_l: 50.0
dia_turn_th_r: 50.0

dia_turn_ref_l: 48.5
dia_turn_ref_r: 50.0

dia_turn_max_dist_l: 15.0
dia_turn_max_dist_r: 15.0

# 壁切れ オフセット距離(反対側の壁有り)
wall_off_hold_dist_dia_l_oppo: -2.5
wall_off_hold_dist_dia_r_oppo: -2.5
# 壁あり補正有効条件距離
wall_off_diff_check_dist_dia: 10.5

# dia_wall_off_ref_l: 33.90
# dia_wall_off_ref_r: 33.675
dia_offset_max_dist: 4 # 斜め壁切れ距離補正最大値

wall_off_pass_dist: 10

#ターン後オフセット距離
offset_after_turn_l: 10 #dia45, dia135 
offset_after_turn_r: 10 #dia45, dia135
offset_after_turn_l2: 18 #large, orval
offset_after_turn_r2: 18 #large, orval
offset_after_turn_dia_l: 24 #dia45_2, dia135_2
offset_after_turn_dia_r: 24 #dia45_2, dia135_2

# constant
cell: 90.0
cell2: 90.0

trj_length: 1 # Number of trajectory points to generate

trj_idx_v: [0, 300, 400, 1200, 1500, 1800, 2000, 2200, 2400, 10000] 
# trj_idx_val: [0, 0, 0, 10, 15, 20, 24, 24, 24, 24] # max = trj_length-1
trj_idx_val: [0, 0, 3, 3, 3, 3, 4, 4, 4, 4] # max = trj_length-1
kanayama:
  kx: 10
  ky: 0.0005
  k_theta: 0.0005
  enable: 0
  windup: 1
  windup_deg: 2.5